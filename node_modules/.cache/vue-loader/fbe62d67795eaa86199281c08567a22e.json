{"remainingRequest":"/Users/Steve/Desktop/finalProject/twiter-project-v1/Twitter-API-Frontend-v1/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/Steve/Desktop/finalProject/twiter-project-v1/Twitter-API-Frontend-v1/src/views/SignUp.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/Steve/Desktop/finalProject/twiter-project-v1/Twitter-API-Frontend-v1/src/views/SignUp.vue","mtime":1608526508780},{"path":"/Users/Steve/Desktop/finalProject/twiter-project-v1/Twitter-API-Frontend-v1/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/Steve/Desktop/finalProject/twiter-project-v1/Twitter-API-Frontend-v1/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/Steve/Desktop/finalProject/twiter-project-v1/Twitter-API-Frontend-v1/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/Steve/Desktop/finalProject/twiter-project-v1/Twitter-API-Frontend-v1/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBhdXRob3JpemF0aW9uQVBJIGZyb20gIi4vLi4vYXBpcy9hdXRob3JpemF0aW9uIjsKaW1wb3J0IHsgVG9hc3QgfSBmcm9tICIuLy4uL3V0aWxzL2hlbHBlcnMiOwpleHBvcnQgZGVmYXVsdCB7CiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGFjY291bnQ6ICIiLAogICAgICBuYW1lOiAiIiwKICAgICAgZW1haWw6ICIiLAogICAgICBwYXNzd29yZDogIiIsCiAgICAgIHBhc3N3b3JkQ2hlY2s6ICIiLAogICAgfTsKICB9LAogIG1ldGhvZHM6IHsKICAgIGFzeW5jIGhhbmRsZVN1Ym1pdCgpIHsKICAgICAgdHJ5IHsKICAgICAgICBpZiAoCiAgICAgICAgICAhdGhpcy5uYW1lIHx8CiAgICAgICAgICAhdGhpcy5lbWFpbCB8fAogICAgICAgICAgIXRoaXMucGFzc3dvcmQgfHwKICAgICAgICAgICF0aGlzLnBhc3N3b3JkQ2hlY2sKICAgICAgICApIHsKICAgICAgICAgIFRvYXN0LmZpcmUoewogICAgICAgICAgICBpY29uOiAid2FybmluZyIsCiAgICAgICAgICAgIHRpdGxlOiAi6KuL56K66KqN5bey5aGr5a+r5omA5pyJ5qyE5L2NIiwKICAgICAgICAgIH0pOwogICAgICAgICAgcmV0dXJuOwogICAgICAgIH0KICAgICAgICBpZiAodGhpcy5wYXNzd29yZCAhPT0gdGhpcy5wYXNzd29yZENoZWNrKSB7CiAgICAgICAgICBUb2FzdC5maXJlKHsKICAgICAgICAgICAgaWNvbjogIndhcm5pbmciLAogICAgICAgICAgICB0aXRsZTogIuWFqeasoei8uOWFpeeahOWvhueivOS4jeWQjCIsCiAgICAgICAgICB9KTsKICAgICAgICAgIHRoaXMucGFzc3dvcmRDaGVjayA9ICIiOwogICAgICAgICAgcmV0dXJuOwogICAgICAgIH0KCiAgICAgICAgY29uc3QgY2hlY2tEYXRhID0gewogICAgICAgICAgbmFtZTogdGhpcy5uYW1lLAogICAgICAgICAgZW1haWw6IHRoaXMuZW1haWwsCiAgICAgICAgICBwYXNzd29yZDogdGhpcy5wYXNzd29yZCwKICAgICAgICAgIHBhc3N3b3JkQ2hlY2s6IHRoaXMucGFzc3dvcmRDaGVjaywKICAgICAgICB9OwogICAgICAgIGxldCB7IGRhdGEgfSA9IGF3YWl0IGF1dGhvcml6YXRpb25BUEkuc2lnblVwKGNoZWNrRGF0YSk7CiAgICAgICAgaWYgKGRhdGEuc3RhdHVzID09PSAiZXJyb3IiKSB7CiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoZGF0YS5tZXNzYWdlKTsKICAgICAgICB9CiAgICAgICAgVG9hc3QuZmlyZSh7CiAgICAgICAgICBpY29uOiAic3VjY2VzcyIsCiAgICAgICAgICB0aXRsZTogZGF0YS5tZXNzYWdlLAogICAgICAgIH0pOwogICAgICAgIHRoaXMuJHJvdXRlci5wdXNoKCIvc2lnbmluIik7CiAgICAgIH0gY2F0Y2ggKGUpIHsKICAgICAgICAvLyBUT0RPOiDlkJHlvoznq6/pqZforYnkvb/nlKjogIXnmbvlhaXos4foqIrmmK/lkKblkIjms5UKICAgICAgICBUb2FzdC5maXJlKHsKICAgICAgICAgIGljb246ICJ3YXJuaW5nIiwKICAgICAgICAgIHRpdGxlOiBg54Sh5rOV6Ki75YaKIC0gJHtlLm1lc3NhZ2V9YCwKICAgICAgICB9KTsKICAgICAgfQogICAgfSwKICB9LAp9Owo="},{"version":3,"sources":["SignUp.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA8FA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"SignUp.vue","sourceRoot":"src/views","sourcesContent":["<template>\n  <div class=\"container\">\n    <form class=\"form-group w-100\" @submit.stop.prevent=\"handleSubmit\">\n      <div class=\"logo-container text-center\">\n        <img class=\"logo\" src=\"/image/Logo.png\" alt=\"Logo\" />\n      </div>\n      <div class=\"brand-container text-center\">\n        <h1 class=\"brand h3\">建立你的帳號</h1>\n      </div>\n      <div class=\"form-label-group\">\n        <label for=\"account\">帳號</label>\n        <input\n          id=\"account\"\n          name=\"account\"\n          v-model=\"account\"\n          type=\"account\"\n          class=\"form-input form-control\"\n          placeholder=\"\"\n          autocomplete=\"account\"\n          required\n          autofocus\n        />\n      </div>\n      <div class=\"form-label-group\">\n        <label for=\"name\">名稱</label>\n        <input\n          id=\"name\"\n          name=\"name\"\n          v-model=\"name\"\n          type=\"text\"\n          class=\"form-input form-control\"\n          placeholder=\"\"\n          autocomplete=\"username\"\n          required\n          autofocus\n        />\n      </div>\n\n      <div class=\"form-label-group\">\n        <label for=\"email\">Email</label>\n        <input\n          id=\"email\"\n          name=\"email\"\n          v-model=\"email\"\n          type=\"email\"\n          class=\"form-input form-control\"\n          placeholder=\"\"\n          autocomplete=\"email\"\n          required\n        />\n      </div>\n\n      <div class=\"form-label-group\">\n        <label for=\"password\">密碼</label>\n        <input\n          id=\"password\"\n          name=\"password\"\n          v-model=\"password\"\n          type=\"password\"\n          class=\"form-input form-control\"\n          placeholder=\"\"\n          autocomplete=\"new-password\"\n          required\n        />\n      </div>\n\n      <div class=\"form-label-group\">\n        <label for=\"password-check\">密碼確認</label>\n        <input\n          id=\"password-check\"\n          name=\"passwordCheck\"\n          v-model=\"passwordCheck\"\n          type=\"password\"\n          class=\"form-input form-control\"\n          placeholder=\"\"\n          autocomplete=\"new-password\"\n          required\n        />\n      </div>\n\n      <button class=\"btn btn-lg btn-submit btn-block mb-3\" type=\"submit\">\n        Submit\n      </button>\n\n      <div class=\"text-center mb-3\">\n        <p>\n          <router-link to=\"/signin\">取消</router-link>\n        </p>\n      </div>\n    </form>\n  </div>\n</template>\n\n<script>\nimport authorizationAPI from \"./../apis/authorization\";\nimport { Toast } from \"./../utils/helpers\";\nexport default {\n  data() {\n    return {\n      account: \"\",\n      name: \"\",\n      email: \"\",\n      password: \"\",\n      passwordCheck: \"\",\n    };\n  },\n  methods: {\n    async handleSubmit() {\n      try {\n        if (\n          !this.name ||\n          !this.email ||\n          !this.password ||\n          !this.passwordCheck\n        ) {\n          Toast.fire({\n            icon: \"warning\",\n            title: \"請確認已填寫所有欄位\",\n          });\n          return;\n        }\n        if (this.password !== this.passwordCheck) {\n          Toast.fire({\n            icon: \"warning\",\n            title: \"兩次輸入的密碼不同\",\n          });\n          this.passwordCheck = \"\";\n          return;\n        }\n\n        const checkData = {\n          name: this.name,\n          email: this.email,\n          password: this.password,\n          passwordCheck: this.passwordCheck,\n        };\n        let { data } = await authorizationAPI.signUp(checkData);\n        if (data.status === \"error\") {\n          throw new Error(data.message);\n        }\n        Toast.fire({\n          icon: \"success\",\n          title: data.message,\n        });\n        this.$router.push(\"/signin\");\n      } catch (e) {\n        // TODO: 向後端驗證使用者登入資訊是否合法\n        Toast.fire({\n          icon: \"warning\",\n          title: `無法註冊 - ${e.message}`,\n        });\n      }\n    },\n  },\n};\n</script>\n\n"]}]}