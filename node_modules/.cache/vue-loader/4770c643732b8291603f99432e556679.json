{"remainingRequest":"/Users/Steve/Desktop/finalProject/twiter-project-v1/Twitter-API-Frontend-v1/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/Steve/Desktop/finalProject/twiter-project-v1/Twitter-API-Frontend-v1/src/components/followers.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/Steve/Desktop/finalProject/twiter-project-v1/Twitter-API-Frontend-v1/src/components/followers.vue","mtime":1608488316831},{"path":"/Users/Steve/Desktop/finalProject/twiter-project-v1/Twitter-API-Frontend-v1/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/Steve/Desktop/finalProject/twiter-project-v1/Twitter-API-Frontend-v1/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/Steve/Desktop/finalProject/twiter-project-v1/Twitter-API-Frontend-v1/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/Steve/Desktop/finalProject/twiter-project-v1/Twitter-API-Frontend-v1/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBmb2xsb3dlckFQSSBmcm9tICIuLy4uL2FwaXMvZm9sbG93ZXJzIjsKaW1wb3J0IHsgVG9hc3QgfSBmcm9tICIuLy4uL3V0aWxzL2hlbHBlcnMiOwoKZXhwb3J0IGRlZmF1bHQgewogIHByb3BzOiB7CiAgICBmb2xsb3dlckxpc3Q6IHsKICAgICAgdHlwZTogQXJyYXksCiAgICAgIHJlcXVpcmVkOiB0cnVlLAogICAgfSwKICAgIHVzZXJQcm9maWxlOiB7CiAgICAgIHR5cGU6IE9iamVjdCwKICAgICAgcmVxdWlyZWQ6IHRydWUsCiAgICB9LAogIH0sCiAgY3JlYXRlZCgpIHsKICAgIHRoaXMuZmV0Y2hVc2VyKCk7CiAgfSwKICB3YXRjaDogewogICAgZm9sbG93ZXJMaXN0KG5ld1ZhbHVlKSB7CiAgICAgIHRoaXMuZm9sbG93ZXJzID0gewogICAgICAgIC4uLnRoaXMuZm9sbG93ZXJzLAogICAgICAgIC4uLm5ld1ZhbHVlLAogICAgICB9OwogICAgfSwKICB9LAogIG1ldGhvZHM6IHsKICAgIGZldGNoVXNlcigpIHsKICAgICAgdGhpcy5mb2xsb3dlcnMgPSB0aGlzLmZvbGxvd2VyTGlzdDsKICAgIH0sCiAgICBhc3luYyBhZGRGb2xsb3dlcihmb2xsb3dlcklkKSB7CiAgICAgIHRyeSB7CiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmb2xsb3dlckFQSS5pc0ZvbGxvd2VyKGZvbGxvd2VySWQpOwogICAgICAgIGNvbnN0IHsgZGF0YSB9ID0gcmVzcG9uc2U7CiAgICAgICAgaWYgKGRhdGEuc3RhdHVzICE9PSAic3VjY2VzcyIpIHsKICAgICAgICAgIHRocm93IG5ldyBFcnJvcihkYXRhLm1lc3NhZ2UpOwogICAgICAgIH0KICAgICAgICBjb25zdCBOZXdEYXRhID0gYXdhaXQgZm9sbG93ZXJBUEkuVG9wVXNlcnMoKTsKICAgICAgICB0aGlzLmZvbGxvd2VycyA9IE5ld0RhdGEuZGF0YTsKICAgICAgfSBjYXRjaCAoZXJyb3IpIHsKICAgICAgICBjb25zb2xlLmxvZygiYWRkIiwgZXJyb3IpOwogICAgICAgIFRvYXN0LmZpcmUoewogICAgICAgICAgaWNvbjogIndhcm5pbmciLAogICAgICAgICAgdGl0bGU6IGVycm9yLAogICAgICAgIH0pOwogICAgICB9CiAgICB9LAogICAgYXN5bmMgZGVsZXRGb2xsb3dlcihmb2xsb3dlcklkKSB7CiAgICAgIHRyeSB7CiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmb2xsb3dlckFQSS5kZWxldEZvbGxvd2VyKGZvbGxvd2VySWQpOwogICAgICAgIGNvbnN0IHsgZGF0YSB9ID0gcmVzcG9uc2U7CiAgICAgICAgaWYgKGRhdGEuc3RhdHVzICE9PSAic3VjY2VzcyIpIHsKICAgICAgICAgIHRocm93IG5ldyBFcnJvcihkYXRhLm1lc3NhZ2UpOwogICAgICAgIH0KICAgICAgICBjb25zdCBOZXdEYXRhID0gYXdhaXQgZm9sbG93ZXJBUEkuVG9wVXNlcnMoKTsKICAgICAgICB0aGlzLmZvbGxvd2VycyA9IE5ld0RhdGEuZGF0YTsKICAgICAgfSBjYXRjaCAoZXJyb3IpIHsKICAgICAgICBjb25zb2xlLmxvZygiZGVsZXRlIiwgZXJyb3IpOwogICAgICAgIFRvYXN0LmZpcmUoewogICAgICAgICAgaWNvbjogIndhcm5pbmciLAogICAgICAgICAgdGl0bGU6IGVycm9yLAogICAgICAgIH0pOwogICAgICB9CiAgICB9LAogIH0sCiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGZvbGxvd2VyczogW10sCiAgICB9OwogIH0sCn07Cg=="},{"version":3,"sources":["followers.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAqCA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"followers.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <div class=\"followers-container\">\n    <div class=\"header w-100\"><p>首頁</p></div>\n    <div class=\"follower-cards w-100\">\n      <div\n        class=\"follower-card w-100 d-flex\"\n        v-for=\"follower in followers\"\n        :key=\"follower.followingId\"\n      >\n        <img class=\"profile-avater\" :src=\"follower.avatar\" alt=\"avater\" />\n        <div class=\"card-content\">\n          <p class=\"card-name\">{{ follower.name }}</p>\n          <p class=\"card-account\">@{{ follower.account }}</p>\n        </div>\n        <button\n          class=\"btn btn-lg btn-submit isfollowered btn-block mb-3\"\n          type=\"submit\"\n          v-if=\"parseInt(follower.isFollowed, 10)\"\n          @click.stop.prevent=\"deletFollower(follower.followingId)\"\n        >\n          正在跟隨\n        </button>\n        <button\n          class=\"btn btn-lg btn-submit nonfollowered btn-block mb-3\"\n          type=\"submit\"\n          @click.stop.prevent=\"addFollower(follower.followingId)\"\n          v-else\n        >\n          跟隨\n        </button>\n      </div>\n    </div>\n    <div class=\"footer\"><p>顯示更多</p></div>\n  </div>\n</template>\n\n<script>\nimport followerAPI from \"./../apis/followers\";\nimport { Toast } from \"./../utils/helpers\";\n\nexport default {\n  props: {\n    followerList: {\n      type: Array,\n      required: true,\n    },\n    userProfile: {\n      type: Object,\n      required: true,\n    },\n  },\n  created() {\n    this.fetchUser();\n  },\n  watch: {\n    followerList(newValue) {\n      this.followers = {\n        ...this.followers,\n        ...newValue,\n      };\n    },\n  },\n  methods: {\n    fetchUser() {\n      this.followers = this.followerList;\n    },\n    async addFollower(followerId) {\n      try {\n        const response = await followerAPI.isFollower(followerId);\n        const { data } = response;\n        if (data.status !== \"success\") {\n          throw new Error(data.message);\n        }\n        const NewData = await followerAPI.TopUsers();\n        this.followers = NewData.data;\n      } catch (error) {\n        console.log(\"add\", error);\n        Toast.fire({\n          icon: \"warning\",\n          title: error,\n        });\n      }\n    },\n    async deletFollower(followerId) {\n      try {\n        const response = await followerAPI.deletFollower(followerId);\n        const { data } = response;\n        if (data.status !== \"success\") {\n          throw new Error(data.message);\n        }\n        const NewData = await followerAPI.TopUsers();\n        this.followers = NewData.data;\n      } catch (error) {\n        console.log(\"delete\", error);\n        Toast.fire({\n          icon: \"warning\",\n          title: error,\n        });\n      }\n    },\n  },\n  data() {\n    return {\n      followers: [],\n    };\n  },\n};\n</script>\n\n<style scoped>\n.followers-container {\n  width: 350px;\n  height: 517px;\n  background: #f5f8fa;\n  border-radius: 14px;\n  margin: 15px auto auto 15px;\n  position: relative;\n}\n.header {\n  height: 45px;\n  border-bottom: 1px #e6ecf0 solid;\n}\n.header p {\n  width: 54px;\n  height: 26px;\n  font-family: Noto Sans TC;\n  font-style: normal;\n  font-weight: bold;\n  font-size: 18px;\n  line-height: 26px;\n  color: #1c1c1c;\n  margin: 0px auto auto 15px;\n  padding-top: 10px;\n}\n.follower-cards {\n  max-height: 425px;\n  overflow-y: hidden;\n}\n.follower-card {\n  background: none;\n  border: none;\n  height: 70px;\n  border-bottom: 1px #e6ecf0 solid;\n}\n.profile-avater {\n  width: 50px;\n  height: 50px;\n  margin: auto 10px auto 15px;\n  border-radius: 50%;\n}\n.card-content {\n  width: 79px;\n  height: 33px;\n  margin: auto 0 auto 0;\n}\n.card-name {\n  margin: 0;\n  font-family: Noto Sans TC;\n  font-style: normal;\n  font-weight: bold;\n  font-size: 15px;\n  line-height: 15px;\n  color: #1c1c1c;\n}\n.card-account {\n  margin: 3px 0 0 0;\n  font-family: Noto Sans TC;\n  font-style: normal;\n  font-weight: bold;\n  font-size: 15px;\n  line-height: 15px;\n  color: #657786;\n}\n.isfollowered {\n  width: 92px;\n  height: 30px;\n  padding: 0;\n  margin: auto 15px auto auto;\n  font-size: 15px;\n  line-height: 15px;\n}\n.nonfollowered {\n  width: 62px;\n  height: 30px;\n  background: none;\n  border: 1px solid #ff6600;\n  color: #ff6600;\n  padding: 0;\n  margin: auto 15px auto auto;\n}\n.footer {\n  width: 60px;\n  height: 22px;\n  font-family: Noto Sans TC;\n  font-style: normal;\n  font-weight: normal;\n  font-size: 15px;\n  line-height: 22px;\n  color: #ff6600;\n  position: absolute;\n  bottom: 12px;\n  left: 15px;\n}\n</style>"]}]}