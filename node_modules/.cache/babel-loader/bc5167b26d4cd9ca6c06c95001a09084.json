{"remainingRequest":"/Users/Steve/Desktop/finalProject/twiter-project-v1/Twitter-API-Frontend-v1/node_modules/babel-loader/lib/index.js!/Users/Steve/Desktop/finalProject/twiter-project-v1/Twitter-API-Frontend-v1/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/Steve/Desktop/finalProject/twiter-project-v1/Twitter-API-Frontend-v1/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/Steve/Desktop/finalProject/twiter-project-v1/Twitter-API-Frontend-v1/src/views/Setting.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/Steve/Desktop/finalProject/twiter-project-v1/Twitter-API-Frontend-v1/src/views/Setting.vue","mtime":1608527554171},{"path":"/Users/Steve/Desktop/finalProject/twiter-project-v1/Twitter-API-Frontend-v1/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/Steve/Desktop/finalProject/twiter-project-v1/Twitter-API-Frontend-v1/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/Steve/Desktop/finalProject/twiter-project-v1/Twitter-API-Frontend-v1/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/Steve/Desktop/finalProject/twiter-project-v1/Twitter-API-Frontend-v1/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZSI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lIjsKaW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIi9Vc2Vycy9TdGV2ZS9EZXNrdG9wL2ZpbmFsUHJvamVjdC90d2l0ZXItcHJvamVjdC12MS9Ud2l0dGVyLUFQSS1Gcm9udGVuZC12MS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvciI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCBOYXZiYXIgZnJvbSAiLi8uLi9jb21wb25lbnRzL05hdmJhciI7CmltcG9ydCB1c2VyQVBJIGZyb20gIi4vLi4vYXBpcy91c2VycyI7CmltcG9ydCB7IFRvYXN0IH0gZnJvbSAiLi8uLi91dGlscy9oZWxwZXJzIjsKZXhwb3J0IGRlZmF1bHQgewogIGNvbXBvbmVudHM6IHsKICAgIE5hdmJhcjogTmF2YmFyCiAgfSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgdXNlclByb2ZpbGU6IHsKICAgICAgICBhY2NvdW50OiAiIiwKICAgICAgICBuYW1lOiAiIiwKICAgICAgICBlbWFpbDogIiIsCiAgICAgICAgcGFzc3dvcmQ6ICIiLAogICAgICAgIHBhc3N3b3JkQ2hlY2s6ICIiCiAgICAgIH0sCiAgICAgIGlzUHJvY2Vzc2luZzogZmFsc2UsCiAgICAgIFVzZXJJZDogIiIKICAgIH07CiAgfSwKICBjcmVhdGVkOiBmdW5jdGlvbiBjcmVhdGVkKCkgewogICAgdmFyIGlkID0gdGhpcy4kcm91dGUucGFyYW1zLmlkOwogICAgdGhpcy5mZXRjaFJlc3RhdXJhbnQoaWQpOwogIH0sCiAgbWV0aG9kczogewogICAgZmV0Y2hSZXN0YXVyYW50OiBmdW5jdGlvbiBmZXRjaFJlc3RhdXJhbnQodXNlcklkKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKCkgewogICAgICAgIHZhciBfeWllbGQkdXNlckFQSSRVc2VyUHIsIGRhdGEsIGFjY291bnQsIG5hbWUsIGVtYWlsOwoKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBfY29udGV4dC5wcmV2ID0gMDsKICAgICAgICAgICAgICAgIF90aGlzLlVzZXJJZCA9IHVzZXJJZDsKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA0OwogICAgICAgICAgICAgICAgcmV0dXJuIHVzZXJBUEkuVXNlclByb2ZpbGUodXNlcklkKTsKCiAgICAgICAgICAgICAgY2FzZSA0OgogICAgICAgICAgICAgICAgX3lpZWxkJHVzZXJBUEkkVXNlclByID0gX2NvbnRleHQuc2VudDsKICAgICAgICAgICAgICAgIGRhdGEgPSBfeWllbGQkdXNlckFQSSRVc2VyUHIuZGF0YTsKICAgICAgICAgICAgICAgIGFjY291bnQgPSBkYXRhLmFjY291bnQsIG5hbWUgPSBkYXRhLm5hbWUsIGVtYWlsID0gZGF0YS5lbWFpbDsKICAgICAgICAgICAgICAgIF90aGlzLnVzZXJQcm9maWxlID0gewogICAgICAgICAgICAgICAgICBhY2NvdW50OiBhY2NvdW50LAogICAgICAgICAgICAgICAgICBuYW1lOiBuYW1lLAogICAgICAgICAgICAgICAgICBlbWFpbDogZW1haWwsCiAgICAgICAgICAgICAgICAgIHBhc3N3b3JkOiAiIiwKICAgICAgICAgICAgICAgICAgY2hlY2tQYXNzd29yZDogIiIKICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMTQ7CiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSAxMDoKICAgICAgICAgICAgICAgIF9jb250ZXh0LnByZXYgPSAxMDsKICAgICAgICAgICAgICAgIF9jb250ZXh0LnQwID0gX2NvbnRleHRbImNhdGNoIl0oMCk7CiAgICAgICAgICAgICAgICBfdGhpcy5pc1Byb2Nlc3NpbmcgPSBmYWxzZTsKICAgICAgICAgICAgICAgIFRvYXN0LmZpcmUoewogICAgICAgICAgICAgICAgICBpY29uOiAiZXJyb3IiLAogICAgICAgICAgICAgICAgICB0aXRsZTogIueEoeazleabtOaWsOS9v+eUqOiAheizh+ioiu+8jOiri+eojeW+jOWGjeippiIKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDE0OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZSwgbnVsbCwgW1swLCAxMF1dKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgaGFuZGxlU3VibWl0OiBmdW5jdGlvbiBoYW5kbGVTdWJtaXQodXNlcklkKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTIoKSB7CiAgICAgICAgdmFyIHJlc3BvbnNlOwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMiQoX2NvbnRleHQyKSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0Mi5wcmV2ID0gX2NvbnRleHQyLm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBfY29udGV4dDIucHJldiA9IDA7CiAgICAgICAgICAgICAgICBfdGhpczIuaXNQcm9jZXNzaW5nID0gdHJ1ZTsKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gNDsKICAgICAgICAgICAgICAgIHJldHVybiB1c2VyQVBJLlVwZGF0ZVVzZXJTZXR0aW5nUHJvZmlsZSh1c2VySWQsIHsKICAgICAgICAgICAgICAgICAgYWNjb3VudDogX3RoaXMyLnVzZXJQcm9maWxlLmFjY291bnQsCiAgICAgICAgICAgICAgICAgIG5hbWU6IF90aGlzMi51c2VyUHJvZmlsZS5uYW1lLAogICAgICAgICAgICAgICAgICBlbWFpbDogX3RoaXMyLnVzZXJQcm9maWxlLmVtYWlsLAogICAgICAgICAgICAgICAgICBwYXNzd29yZDogX3RoaXMyLnVzZXJQcm9maWxlLnBhc3N3b3JkLAogICAgICAgICAgICAgICAgICBjaGVja1Bhc3N3b3JkOiBfdGhpczIudXNlclByb2ZpbGUuY2hlY2tQYXNzd29yZAogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgNDoKICAgICAgICAgICAgICAgIHJlc3BvbnNlID0gX2NvbnRleHQyLnNlbnQ7CgogICAgICAgICAgICAgICAgaWYgKCEocmVzcG9uc2Uuc3RhdHVzICE9PSAic3VjY2VzcyIpKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gNzsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKHJlc3BvbnNlLm1lc3NhZ2UpOwoKICAgICAgICAgICAgICBjYXNlIDc6CiAgICAgICAgICAgICAgICBfdGhpczIuJHJvdXRlci5wdXNoKHsKICAgICAgICAgICAgICAgICAgbmFtZTogIm1haW4iCiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDE0OwogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgMTA6CiAgICAgICAgICAgICAgICBfY29udGV4dDIucHJldiA9IDEwOwogICAgICAgICAgICAgICAgX2NvbnRleHQyLnQwID0gX2NvbnRleHQyWyJjYXRjaCJdKDApOwogICAgICAgICAgICAgICAgX3RoaXMyLmlzUHJvY2Vzc2luZyA9IGZhbHNlOwogICAgICAgICAgICAgICAgVG9hc3QuZmlyZSh7CiAgICAgICAgICAgICAgICAgIGljb246ICJlcnJvciIsCiAgICAgICAgICAgICAgICAgIHRpdGxlOiAi54Sh5rOV5pu05paw5L2/55So6ICF6LOH6KiK77yM6KuL56iN5b6M5YaN6KmmIgogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgMTQ6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTIsIG51bGwsIFtbMCwgMTBdXSk7CiAgICAgIH0pKSgpOwogICAgfQogIH0KfTs="},{"version":3,"sources":["Setting.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div class=\"container d-flex\">\n    <div class=\"setting-pannel\">\n      <Navbar />\n    </div>\n    <div class=\"main-content\">\n      <div class=\"header\"><p>帳戶設定</p></div>\n      <form\n        class=\"form-group w-100\"\n        @submit.stop.prevent=\"handleSubmit(UserId)\"\n      >\n        <div class=\"form-label-group\">\n          <label for=\"account\">帳號</label>\n          <input\n            id=\"account\"\n            name=\"account\"\n            v-model=\"userProfile.account\"\n            type=\"account\"\n            class=\"form-input form-control\"\n            placeholder=\"\"\n            autocomplete=\"account\"\n            required\n            autofocus\n          />\n        </div>\n        <div class=\"form-label-group\">\n          <label for=\"name\">名稱</label>\n          <input\n            id=\"name\"\n            name=\"name\"\n            v-model=\"userProfile.name\"\n            type=\"text\"\n            class=\"form-input form-control\"\n            placeholder=\"\"\n            autocomplete=\"username\"\n            required\n            autofocus\n          />\n        </div>\n\n        <div class=\"form-label-group\">\n          <label for=\"email\">Email</label>\n          <input\n            id=\"email\"\n            name=\"email\"\n            v-model=\"userProfile.email\"\n            type=\"email\"\n            class=\"form-input form-control\"\n            placeholder=\"\"\n            autocomplete=\"email\"\n            required\n          />\n        </div>\n\n        <div class=\"form-label-group\">\n          <label for=\"password\">密碼</label>\n          <input\n            id=\"password\"\n            name=\"password\"\n            v-model=\"userProfile.password\"\n            type=\"password\"\n            class=\"form-input form-control\"\n            placeholder=\"\"\n            autocomplete=\"new-password\"\n            required\n          />\n        </div>\n\n        <div class=\"form-label-group\">\n          <label for=\"password-check\">密碼確認</label>\n          <input\n            id=\"password-check\"\n            name=\"passwordCheck\"\n            v-model=\"userProfile.checkPassword\"\n            type=\"password\"\n            class=\"form-input form-control\"\n            placeholder=\"\"\n            autocomplete=\"new-password\"\n            required\n          />\n        </div>\n\n        <button\n          class=\"btn btn-lg btn-submit btn-block mb-3\"\n          type=\"submit\"\n          :disabled=\"isProcessing\"\n        >\n          Submit\n        </button>\n      </form>\n    </div>\n  </div>\n</template>\n\n<script>\nimport Navbar from \"./../components/Navbar\";\nimport userAPI from \"./../apis/users\";\nimport { Toast } from \"./../utils/helpers\";\n\nexport default {\n  components: {\n    Navbar,\n  },\n  data() {\n    return {\n      userProfile: {\n        account: \"\",\n        name: \"\",\n        email: \"\",\n        password: \"\",\n        passwordCheck: \"\",\n      },\n      isProcessing: false,\n      UserId: \"\",\n    };\n  },\n  created() {\n    const { id } = this.$route.params;\n    this.fetchRestaurant(id);\n  },\n  methods: {\n    async fetchRestaurant(userId) {\n      try {\n        this.UserId = userId;\n        const { data } = await userAPI.UserProfile(userId);\n        const { account, name, email } = data;\n        this.userProfile = {\n          account: account,\n          name: name,\n          email: email,\n          password: \"\",\n          checkPassword: \"\",\n        };\n      } catch (error) {\n        this.isProcessing = false;\n        Toast.fire({\n          icon: \"error\",\n          title: \"無法更新使用者資訊，請稍後再試\",\n        });\n      }\n    },\n    async handleSubmit(userId) {\n      try {\n        this.isProcessing = true;\n        const response = await userAPI.UpdateUserSettingProfile(userId, {\n          account: this.userProfile.account,\n          name: this.userProfile.name,\n          email: this.userProfile.email,\n          password: this.userProfile.password,\n          checkPassword: this.userProfile.checkPassword,\n        });\n        if (response.status !== \"success\") {\n          throw new Error(response.message);\n        }\n\n        this.$router.push({ name: \"main\" });\n      } catch (error) {\n        this.isProcessing = false;\n        Toast.fire({\n          icon: \"error\",\n          title: \"無法更新使用者資訊，請稍後再試\",\n        });\n      }\n    },\n  },\n};\n</script>\n\n<style scoped>\n.container {\n  margin: 0 auto 0 auto;\n}\n.setting-pannel {\n  width: 378px;\n  height: 100%;\n  border-left: 2px #e6ecf0 solid;\n}\n.main-content {\n  height: 100%;\n  flex-grow: 1;\n  border-left: 2px #e6ecf0 solid;\n  border-right: 2px #e6ecf0 solid;\n}\n.main-content .header {\n  width: 100%;\n  height: 55px;\n  border-bottom: 2px #e6ecf0 solid;\n}\n.main-content .header p {\n  font-family: Noto Sans TC;\n  font-style: normal;\n  font-weight: bold;\n  font-size: 19px;\n  line-height: 28px;\n  color: #1c1c1c;\n  margin-top: 13px;\n  margin-left: 23.7px;\n}\n.form-group {\n  margin: 30px auto auto 16px;\n}\n.btn-submit {\n  width: 122px;\n  margin: 30px 0px 0px auto;\n}\n</style>"],"sourceRoot":"src/views"}]}