{"remainingRequest":"/Users/Steve/Desktop/finalProject/twiter-project-v1/Twitter-API-Frontend-v1/node_modules/babel-loader/lib/index.js!/Users/Steve/Desktop/finalProject/twiter-project-v1/Twitter-API-Frontend-v1/node_modules/eslint-loader/index.js??ref--13-0!/Users/Steve/Desktop/finalProject/twiter-project-v1/Twitter-API-Frontend-v1/src/store/index.js","dependencies":[{"path":"/Users/Steve/Desktop/finalProject/twiter-project-v1/Twitter-API-Frontend-v1/src/store/index.js","mtime":1608519734363},{"path":"/Users/Steve/Desktop/finalProject/twiter-project-v1/Twitter-API-Frontend-v1/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/Steve/Desktop/finalProject/twiter-project-v1/Twitter-API-Frontend-v1/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/Steve/Desktop/finalProject/twiter-project-v1/Twitter-API-Frontend-v1/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZSI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lIjsKaW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIi9Vc2Vycy9TdGV2ZS9EZXNrdG9wL2ZpbmFsUHJvamVjdC90d2l0ZXItcHJvamVjdC12MS9Ud2l0dGVyLUFQSS1Gcm9udGVuZC12MS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvciI7CmltcG9ydCBfb2JqZWN0U3ByZWFkIGZyb20gIi9Vc2Vycy9TdGV2ZS9EZXNrdG9wL2ZpbmFsUHJvamVjdC90d2l0ZXItcHJvamVjdC12MS9Ud2l0dGVyLUFQSS1Gcm9udGVuZC12MS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vb2JqZWN0U3ByZWFkMiI7CmltcG9ydCBWdWUgZnJvbSAndnVlJzsKaW1wb3J0IFZ1ZXggZnJvbSAndnVleCc7CmltcG9ydCB1c2Vyc0FQSSBmcm9tICcuLy4uL2FwaXMvdXNlcnMnOwpWdWUudXNlKFZ1ZXgpOwpleHBvcnQgZGVmYXVsdCBuZXcgVnVleC5TdG9yZSh7CiAgc3RhdGU6IHsKICAgIGN1cnJlbnRVc2VyOiB7CiAgICAgIGlkOiAtMSwKICAgICAgbmFtZTogJycsCiAgICAgIGVtYWlsOiAnJywKICAgICAgaW1hZ2U6ICcnLAogICAgICByb2xlOiAnJwogICAgfSwKICAgIGlzQXV0aGVudGljYXRlZDogZmFsc2UsCiAgICB0b2tlbjogJycKICB9LAogIG11dGF0aW9uczogewogICAgc2V0Q3VycmVudFVzZXI6IGZ1bmN0aW9uIHNldEN1cnJlbnRVc2VyKHN0YXRlLCBjdXJyZW50VXNlcikgewogICAgICBzdGF0ZS5jdXJyZW50VXNlciA9IF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgc3RhdGUuY3VycmVudFVzZXIpLCBjdXJyZW50VXNlcik7CiAgICAgIHN0YXRlLnRva2VuID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3Rva2VuJyk7CiAgICAgIHN0YXRlLmlzQXV0aGVudGljYXRlZCA9IHRydWU7CiAgICB9LAogICAgcmV2b2tlQXV0aGVudGljYXRpb246IGZ1bmN0aW9uIHJldm9rZUF1dGhlbnRpY2F0aW9uKHN0YXRlKSB7CiAgICAgIHN0YXRlLmN1cnJlbnRVc2VyID0ge307CiAgICAgIHN0YXRlLmlzQXV0aGVudGljYXRlZCA9IGZhbHNlOwogICAgICBzdGF0ZS50b2tlbiA9ICcnOwogICAgICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbSgndG9rZW4nKTsKICAgIH0KICB9LAogIGFjdGlvbnM6IHsKICAgIGZldGNoQ3VycmVudFVzZXI6IGZ1bmN0aW9uIGZldGNoQ3VycmVudFVzZXIoX3JlZikgewogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKCkgewogICAgICAgIHZhciBjb21taXQsIF95aWVsZCR1c2Vyc0FQSSRnZXRDdSwgZGF0YSwgaWQsIG5hbWUsIGVtYWlsLCByb2xlOwoKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBjb21taXQgPSBfcmVmLmNvbW1pdDsKICAgICAgICAgICAgICAgIF9jb250ZXh0LnByZXYgPSAxOwogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDQ7CiAgICAgICAgICAgICAgICByZXR1cm4gdXNlcnNBUEkuZ2V0Q3VycmVudFVzZXIoKTsKCiAgICAgICAgICAgICAgY2FzZSA0OgogICAgICAgICAgICAgICAgX3lpZWxkJHVzZXJzQVBJJGdldEN1ID0gX2NvbnRleHQuc2VudDsKICAgICAgICAgICAgICAgIGRhdGEgPSBfeWllbGQkdXNlcnNBUEkkZ2V0Q3UuZGF0YTsKICAgICAgICAgICAgICAgIGlkID0gZGF0YS5pZCwgbmFtZSA9IGRhdGEubmFtZSwgZW1haWwgPSBkYXRhLmVtYWlsLCByb2xlID0gZGF0YS5yb2xlOwogICAgICAgICAgICAgICAgY29tbWl0KCdzZXRDdXJyZW50VXNlcicsIHsKICAgICAgICAgICAgICAgICAgaWQ6IGlkLAogICAgICAgICAgICAgICAgICBuYW1lOiBuYW1lLAogICAgICAgICAgICAgICAgICBlbWFpbDogZW1haWwsCiAgICAgICAgICAgICAgICAgIHJvbGU6IHJvbGUKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LmFicnVwdCgicmV0dXJuIiwgdHJ1ZSk7CgogICAgICAgICAgICAgIGNhc2UgMTE6CiAgICAgICAgICAgICAgICBfY29udGV4dC5wcmV2ID0gMTE7CiAgICAgICAgICAgICAgICBfY29udGV4dC50MCA9IF9jb250ZXh0WyJjYXRjaCJdKDEpOwogICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcignY2FuIG5vdCBmZXRjaCB1c2VyIGluZm9ybWF0aW9uJyk7CiAgICAgICAgICAgICAgICBjb21taXQoJ3Jldm9rZUF1dGhlbnRpY2F0aW9uJyk7CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuYWJydXB0KCJyZXR1cm4iLCBmYWxzZSk7CgogICAgICAgICAgICAgIGNhc2UgMTY6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlLCBudWxsLCBbWzEsIDExXV0pOwogICAgICB9KSkoKTsKICAgIH0KICB9LAogIG1vZHVsZXM6IHt9Cn0pOw=="},{"version":3,"sources":["/Users/Steve/Desktop/finalProject/twiter-project-v1/Twitter-API-Frontend-v1/src/store/index.js"],"names":["Vue","Vuex","usersAPI","use","Store","state","currentUser","id","name","email","image","role","isAuthenticated","token","mutations","setCurrentUser","localStorage","getItem","revokeAuthentication","removeItem","actions","fetchCurrentUser","commit","getCurrentUser","data","console","error","modules"],"mappings":";;;;AAAA,OAAOA,GAAP,MAAgB,KAAhB;AACA,OAAOC,IAAP,MAAiB,MAAjB;AACA,OAAOC,QAAP,MAAqB,iBAArB;AAEAF,GAAG,CAACG,GAAJ,CAAQF,IAAR;AAEA,eAAe,IAAIA,IAAI,CAACG,KAAT,CAAe;AAC5BC,EAAAA,KAAK,EAAE;AACLC,IAAAA,WAAW,EAAE;AACXC,MAAAA,EAAE,EAAE,CAAC,CADM;AAEXC,MAAAA,IAAI,EAAE,EAFK;AAGXC,MAAAA,KAAK,EAAE,EAHI;AAIXC,MAAAA,KAAK,EAAE,EAJI;AAKXC,MAAAA,IAAI,EAAE;AALK,KADR;AAQLC,IAAAA,eAAe,EAAE,KARZ;AASLC,IAAAA,KAAK,EAAE;AATF,GADqB;AAY5BC,EAAAA,SAAS,EAAE;AACTC,IAAAA,cADS,0BACMV,KADN,EACaC,WADb,EAC0B;AACjCD,MAAAA,KAAK,CAACC,WAAN,mCACKD,KAAK,CAACC,WADX,GAEKA,WAFL;AAIAD,MAAAA,KAAK,CAACQ,KAAN,GAAcG,YAAY,CAACC,OAAb,CAAqB,OAArB,CAAd;AACAZ,MAAAA,KAAK,CAACO,eAAN,GAAwB,IAAxB;AACD,KARQ;AASTM,IAAAA,oBATS,gCASYb,KATZ,EASmB;AAC1BA,MAAAA,KAAK,CAACC,WAAN,GAAoB,EAApB;AACAD,MAAAA,KAAK,CAACO,eAAN,GAAwB,KAAxB;AACAP,MAAAA,KAAK,CAACQ,KAAN,GAAc,EAAd;AACAG,MAAAA,YAAY,CAACG,UAAb,CAAwB,OAAxB;AACD;AAdQ,GAZiB;AA4B5BC,EAAAA,OAAO,EAAE;AACDC,IAAAA,gBADC,kCAC4B;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAVC,gBAAAA,MAAU,QAAVA,MAAU;AAAA;AAAA;AAAA,uBAERpB,QAAQ,CAACqB,cAAT,EAFQ;;AAAA;AAAA;AAEvBC,gBAAAA,IAFuB,yBAEvBA,IAFuB;AAGvBjB,gBAAAA,EAHuB,GAGGiB,IAHH,CAGvBjB,EAHuB,EAGnBC,IAHmB,GAGGgB,IAHH,CAGnBhB,IAHmB,EAGbC,KAHa,GAGGe,IAHH,CAGbf,KAHa,EAGNE,IAHM,GAGGa,IAHH,CAGNb,IAHM;AAI/BW,gBAAAA,MAAM,CAAC,gBAAD,EAAmB;AACvBf,kBAAAA,EAAE,EAAFA,EADuB;AAEvBC,kBAAAA,IAAI,EAAJA,IAFuB;AAGvBC,kBAAAA,KAAK,EAALA,KAHuB;AAIvBE,kBAAAA,IAAI,EAAJA;AAJuB,iBAAnB,CAAN;AAJ+B,iDAUxB,IAVwB;;AAAA;AAAA;AAAA;AAY/Bc,gBAAAA,OAAO,CAACC,KAAR,CAAc,gCAAd;AACAJ,gBAAAA,MAAM,CAAC,sBAAD,CAAN;AAb+B,iDAcxB,KAdwB;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAgBlC;AAjBM,GA5BmB;AA+C5BK,EAAAA,OAAO,EAAE;AA/CmB,CAAf,CAAf","sourcesContent":["import Vue from 'vue'\nimport Vuex from 'vuex'\nimport usersAPI from './../apis/users'\n\nVue.use(Vuex)\n\nexport default new Vuex.Store({\n  state: {\n    currentUser: {\n      id: -1,\n      name: '',\n      email: '',\n      image: '',\n      role: ''\n    },\n    isAuthenticated: false,\n    token: ''\n  },\n  mutations: {\n    setCurrentUser(state, currentUser) {\n      state.currentUser = {\n        ...state.currentUser,\n        ...currentUser\n      }\n      state.token = localStorage.getItem('token')\n      state.isAuthenticated = true\n    },\n    revokeAuthentication(state) {\n      state.currentUser = {}\n      state.isAuthenticated = false\n      state.token = ''\n      localStorage.removeItem('token')\n    }\n  },\n  actions: {\n    async fetchCurrentUser({ commit }) {\n      try {\n        const { data } = await usersAPI.getCurrentUser()\n        const { id, name, email, role } = data\n        commit('setCurrentUser', {\n          id,\n          name,\n          email,\n          role\n        })\n        return true\n      } catch (error) {\n        console.error('can not fetch user information')\n        commit('revokeAuthentication')\n        return false\n      }\n    }\n  },\n  modules: {\n  }\n})"]}]}