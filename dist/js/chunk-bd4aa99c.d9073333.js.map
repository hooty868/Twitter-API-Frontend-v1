{"version":3,"sources":["webpack:///./src/apis/user.js","webpack:///./src/views/follow.vue?5af4","webpack:///./src/components/following.vue?c1d6","webpack:///./src/components/follower.vue?f682","webpack:///./src/views/follow.vue?ceed","webpack:///./src/components/follower.vue?a271","webpack:///src/components/follower.vue","webpack:///./src/components/follower.vue?af23","webpack:///./src/components/follower.vue?35f3","webpack:///./src/components/following.vue?1c86","webpack:///src/components/following.vue","webpack:///./src/components/following.vue?7162","webpack:///./src/components/following.vue?857c","webpack:///src/views/follow.vue","webpack:///./src/views/follow.vue?1926","webpack:///./src/views/follow.vue?3fd4"],"names":["getToken","localStorage","getItem","getUser","userId","apiHelper","get","headers","Authorization","getTweets","getLikes","getReply","getFollower","getFollowing","addFollowing","followerId","post","id","deleteFollowing","delete","update","formData","put","render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","on","$event","$router","back","_v","_s","user","name","tweetCount","class","active","showContent","follower","showfollower","following","showfollowing","_e","directives","rawName","value","expression","followerlist","staticRenderFns","_l","key","userLink","avatar","account","introduction","stopPropagation","preventDefault","data","followers","computed","created","fetchData","methods","console","log","push","component","followingId","mixins","components","Navbar","Followers","Follower","Following","isFollowed","fetchUsers","fetchFollowerList"],"mappings":"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","file":"js/chunk-bd4aa99c.d9073333.js","sourcesContent":["import { apiHelper } from './../utils/helpers'\nconst getToken = () => localStorage.getItem('token')\n\n\nexport default {\n  getUser(userId) {\n    return apiHelper.get(`/users/${userId}`, {\n      headers: { Authorization: `Bearer ${getToken()}` }\n    })\n  },\n  getTweets(userId) {\n    return apiHelper.get(`/users/${userId}/tweets`, {\n      headers: { Authorization: `Bearer ${getToken()}` }\n    })\n  },\n  getLikes(userId) {\n    return apiHelper.get(`/users/${userId}/likes`, {\n      headers: { Authorization: `Bearer ${getToken()}` }\n    })\n  },\n  getReply(userId) {\n    return apiHelper.get(`/users/${userId}/replied_tweets`, {\n      headers: { Authorization: `Bearer ${getToken()}` }\n    })\n  },\n  getFollower(userId) {\n    return apiHelper.get(`/users/${userId}/followers`, {\n      headers: { Authorization: `Bearer ${getToken()}` }\n    })\n  },\n  getFollowing(userId) {\n    return apiHelper.get(`/users/${userId}/followings`, {\n      headers: { Authorization: `Bearer ${getToken()}` }\n    })\n  },\n  addFollowing(followerId) {\n    return apiHelper.post(`/followships`, { id: followerId }, {\n      headers: { Authorization: `Bearer ${getToken()}` }\n    })\n  },\n  deleteFollowing(followerId) {\n    return apiHelper.delete(`/followships/${followerId}`, {\n      headers: { Authorization: `Bearer ${getToken()}` }\n    })\n  },\n  update({ userId, formData }) {\n    return apiHelper.put(`/users/${userId}`, formData, {\n      headers: { Authorization: `Bearer ${getToken()}` }\n    })\n  },\n}","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./follow.vue?vue&type=style&index=0&id=29fa8936&scoped=true&lang=css&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./following.vue?vue&type=style&index=0&id=30cbf718&scoped=true&lang=css&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./follower.vue?vue&type=style&index=0&id=1b565c3b&scoped=true&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"container\"},[_c('div',{staticClass:\"row h-100\"},[_c('div',{staticClass:\"setting-pannel col-3 h-100\"},[_c('Navbar')],1),_c('div',{staticClass:\"main-content col h-100\"},[_c('div',{staticClass:\"header pl-3\"},[_c('img',{attrs:{\"src\":\"https://upload.cc/i1/2020/12/24/oBeWkX.png\",\"alt\":\"\"},on:{\"click\":function($event){return _vm.$router.back()}}}),_c('div',{staticClass:\"header-content\"},[_c('p',{staticClass:\"name\"},[_vm._v(_vm._s(_vm.user.name))]),_c('p',{staticClass:\"twitter\"},[_vm._v(_vm._s(_vm.user.tweetCount)+\"推文\")])])]),_c('div',{staticClass:\"user-tweet\"},[_c('div',{staticClass:\"content-control d-flex\"},[_c('div',{staticClass:\"tweets content\",class:{ active: _vm.showContent.follower },on:{\"click\":function($event){return _vm.showfollower()}}},[_vm._v(\" 跟隨者 \")]),_c('div',{staticClass:\"response content\",class:{ active: _vm.showContent.following },on:{\"click\":function($event){return _vm.showfollowing()}}},[_vm._v(\" 正在跟隨 \")])]),_c('div',{staticClass:\"content-render\"},[(_vm.showContent.follower)?_c('Follower'):_vm._e(),_c('Following',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.showContent.following),expression:\"showContent.following\"}]})],1)])]),_c('div',{staticClass:\"main-follower col-4 h-100\"},[_c('Followers',{attrs:{\"user-profile\":_vm.user,\"follower-list\":_vm.followerlist}})],1)])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',_vm._l((_vm.followers),function(follower){return _c('div',{key:follower.followerId,staticClass:\"card\",on:{\"click\":function($event){return _vm.userLink(follower.followerId)}}},[_c('div',{staticClass:\"user-avatar\"},[_c('img',{staticClass:\"avatar\",attrs:{\"src\":follower.avatar,\"alt\":\"\"},on:{\"click\":function($event){return _vm.userLink(follower.followerId)}}})]),_c('div',{staticClass:\"content\"},[_c('div',{staticClass:\"detail\"},[_c('div',{staticClass:\"name mr-1\"},[_vm._v(_vm._s(follower.name))]),_c('div',{staticClass:\"account mr-1\"},[_vm._v(\"@\"+_vm._s(follower.account))]),_c('div',{staticClass:\"tweet\"},[_vm._v(\" \"+_vm._s(follower.introduction)+\" \")])])]),(follower.isFollowed)?_c('button',{staticClass:\"follower-btn\",on:{\"click\":function($event){$event.stopPropagation();$event.preventDefault();return _vm.deleteFollowing(follower.followerId)}}},[_vm._v(\" 正在跟隨 \")]):_c('button',{staticClass:\"follow-btn\",on:{\"click\":function($event){$event.stopPropagation();$event.preventDefault();return _vm.addFollowing(follower.followerId)}}},[_vm._v(\" 追隨 \")])])}),0)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <div\n      class=\"card\"\n      v-for=\"follower in followers\"\n      :key=\"follower.followerId\"\n      @click=\"userLink(follower.followerId)\"\n    >\n      <div class=\"user-avatar\">\n        <img\n          @click=\"userLink(follower.followerId)\"\n          class=\"avatar\"\n          :src=\"follower.avatar\"\n          alt=\"\"\n        />\n      </div>\n      <div class=\"content\">\n        <div class=\"detail\">\n          <div class=\"name mr-1\">{{ follower.name }}</div>\n          <div class=\"account mr-1\">@{{ follower.account }}</div>\n          <div class=\"tweet\">\n            {{ follower.introduction }}\n          </div>\n        </div>\n      </div>\n      <button\n        v-if=\"follower.isFollowed\"\n        class=\"follower-btn\"\n        @click.stop.prevent=\"deleteFollowing(follower.followerId)\"\n      >\n        正在跟隨\n      </button>\n      <button\n        v-else\n        @click.stop.prevent=\"addFollowing(follower.followerId)\"\n        class=\"follow-btn\"\n      >\n        追隨\n      </button>\n    </div>\n  </div>\n</template>\n\n<script>\nimport userAPI from \"../apis/user\";\nimport { Toast } from \"./../utils/helpers\";\nimport { mapState } from \"vuex\";\n\nexport default {\n  data() {\n    return {\n      followers: [],\n    };\n  },\n  computed: {\n    ...mapState([\"currentUser\"]),\n  },\n\n  created() {\n    this.fetchData();\n  },\n\n  methods: {\n    async fetchData() {\n      try {\n        const { data } = await userAPI.getFollower(this.currentUser.id);\n        this.followers = data;\n      } catch (error) {\n        console.log(\"error\", error);\n        Toast.fire({\n          icon: \"warning\",\n          title: error,\n        });\n      }\n    },\n    async deleteFollowing(followerId) {\n      try {\n        const { data } = await userAPI.deleteFollowing(followerId);\n\n        if (data.status !== \"success\") {\n          throw new Error(data.message);\n        }\n\n        this.followers = this.followers.map((follower) => {\n          if (follower.followerId !== followerId) {\n            return follower;\n          } else {\n            return {\n              ...follower,\n              isFollowed: 0,\n            };\n          }\n        });\n      } catch (error) {\n        Toast.fire({\n          icon: \"error\",\n          title: \"無法取消追蹤，請稍後再試\",\n        });\n      }\n    },\n    async addFollowing(followerId) {\n      try {\n        const { data } = await userAPI.addFollowing(followerId);\n        console.log(followerId);\n        if (data.status !== \"success\") {\n          throw new Error(data.message);\n        }\n\n        this.followers = this.followers.map((follower) => {\n          if (follower.followerId !== followerId) {\n            return follower;\n          } else {\n            return {\n              ...follower,\n              isFollowed: 1,\n            };\n          }\n        });\n      } catch (error) {\n        Toast.fire({\n          icon: \"error\",\n          title: \"無法追蹤，請稍後再試\",\n        });\n      }\n    },\n    userLink(userId) {\n      console.log(userId);\n      this.$router.push({ name: \"profile\", params: { id: userId } });\n    },\n  },\n};\n</script>\n\n<style scoped>\n.card {\n  border: 1px solid #e6ecf0;\n  width: 100%;\n  min-height: 103px;\n  display: flex;\n  flex-direction: row;\n  padding: 15px 0 0 13px;\n  position: relative;\n  cursor: pointer;\n}\n\n.card:hover {\n  background: #f0f0f0;\n}\n\n.card .user-avatar,\n.card .avatar {\n  width: 50px;\n  height: 50px;\n  border-radius: 50%;\n  background: #c4c4c4;\n  margin-right: 10px;\n}\n.card .user-avatar {\n  margin-top: 13px;\n}\n\n.card .follower-btn {\n  width: 92px;\n  height: 30px;\n  border: 1px solid #ff6600;\n  background: #ff6600;\n  color: #fff;\n  border-radius: 100px;\n  position: absolute;\n  right: 15px;\n  top: 11px;\n  outline: none;\n}\n\n.card .follower-btn:hover {\n  background: #c44f00;\n}\n\n.card .follow-btn {\n  width: 62px;\n  height: 30px;\n  border: 1px solid #ff6600;\n  background: white;\n  color: #ff6600;\n  border-radius: 100px;\n  position: absolute;\n  right: 15px;\n  top: 11px;\n  outline: none;\n}\n\n.card .follow-btn:hover {\n  background: #ffeedd;\n}\n\n.card .detail .name {\n  font-weight: bold;\n}\n.card .detail .account {\n  color: #657786;\n  margin-top: -2px;\n}\n.card .detail .tweet {\n  margin-top: -2px;\n}\n\n.card .tweet {\n  margin: 6px 15px 14px 0;\n}\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./follower.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./follower.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./follower.vue?vue&type=template&id=1b565c3b&scoped=true&\"\nimport script from \"./follower.vue?vue&type=script&lang=js&\"\nexport * from \"./follower.vue?vue&type=script&lang=js&\"\nimport style0 from \"./follower.vue?vue&type=style&index=0&id=1b565c3b&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"1b565c3b\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',_vm._l((_vm.followers),function(follower){return _c('div',{key:follower.followingId,staticClass:\"card\",on:{\"click\":function($event){return _vm.userLink(follower.followingId)}}},[_c('div',{staticClass:\"user-avatar\"},[_c('img',{staticClass:\"avatar\",attrs:{\"src\":follower.avatar,\"alt\":\"\"},on:{\"click\":function($event){return _vm.userLink(follower.followingId)}}})]),_c('div',{staticClass:\"content\"},[_c('div',{staticClass:\"detail\"},[_c('div',{staticClass:\"name mr-1\"},[_vm._v(_vm._s(follower.name))]),_c('div',{staticClass:\"account mr-1\"},[_vm._v(\"@\"+_vm._s(follower.account))]),_c('div',{staticClass:\"tweet\"},[_vm._v(\" \"+_vm._s(follower.introduction)+\" \")])])]),(follower.isFollowed)?_c('button',{staticClass:\"follower-btn\",on:{\"click\":function($event){$event.stopPropagation();$event.preventDefault();return _vm.deleteFollowing(follower.followingId)}}},[_vm._v(\" 正在跟隨 \")]):_c('button',{staticClass:\"follow-btn\",on:{\"click\":function($event){$event.stopPropagation();$event.preventDefault();return _vm.addFollowing(follower.followingId)}}},[_vm._v(\" 追隨 \")])])}),0)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <div\n      class=\"card\"\n      v-for=\"follower in followers\"\n      :key=\"follower.followingId\"\n      @click=\"userLink(follower.followingId)\"\n    >\n      <div class=\"user-avatar\">\n        <img\n          @click=\"userLink(follower.followingId)\"\n          class=\"avatar\"\n          :src=\"follower.avatar\"\n          alt=\"\"\n        />\n      </div>\n      <div class=\"content\">\n        <div class=\"detail\">\n          <div class=\"name mr-1\">{{ follower.name }}</div>\n          <div class=\"account mr-1\">@{{ follower.account }}</div>\n          <div class=\"tweet\">\n            {{ follower.introduction }}\n          </div>\n        </div>\n      </div>\n      <button\n        v-if=\"follower.isFollowed\"\n        class=\"follower-btn\"\n        @click.stop.prevent=\"deleteFollowing(follower.followingId)\"\n      >\n        正在跟隨\n      </button>\n      <button\n        v-else\n        @click.stop.prevent=\"addFollowing(follower.followingId)\"\n        class=\"follow-btn\"\n      >\n        追隨\n      </button>\n    </div>\n  </div>\n</template>\n\n<script>\nimport userAPI from \"../apis/user\";\nimport { Toast } from \"./../utils/helpers\";\nimport { mapState } from \"vuex\";\n\nexport default {\n  data() {\n    return {\n      followers: [],\n    };\n  },\n  computed: {\n    ...mapState([\"currentUser\"]),\n  },\n\n  created() {\n    this.fetchData();\n  },\n\n  methods: {\n    async fetchData() {\n      try {\n        const { data } = await userAPI.getFollowing(this.currentUser.id);\n        this.followers = data;\n      } catch (error) {\n        console.log(\"error\", error);\n        Toast.fire({\n          icon: \"warning\",\n          title: error,\n        });\n      }\n    },\n    async deleteFollowing(followerId) {\n      try {\n        const { data } = await userAPI.deleteFollowing(followerId);\n\n        if (data.status !== \"success\") {\n          throw new Error(data.message);\n        }\n\n        this.followers = this.followers.map((follower) => {\n          if (follower.followingId !== followerId) {\n            return follower;\n          } else {\n            return {\n              ...follower,\n              isFollowed: 0,\n            };\n          }\n        });\n      } catch (error) {\n        Toast.fire({\n          icon: \"error\",\n          title: \"無法取消追蹤，請稍後再試\",\n        });\n      }\n    },\n    async addFollowing(followerId) {\n      try {\n        const { data } = await userAPI.addFollowing(followerId);\n\n        if (data.status !== \"success\") {\n          throw new Error(data.message);\n        }\n\n        this.followers = this.followers.map((follower) => {\n          if (follower.followingId !== followerId) {\n            return follower;\n          } else {\n            return {\n              ...follower,\n              isFollowed: 1,\n            };\n          }\n        });\n      } catch (error) {\n        Toast.fire({\n          icon: \"error\",\n          title: \"無法追蹤，請稍後再試\",\n        });\n      }\n    },\n    userLink(userId) {\n      console.log(userId);\n      this.$router.push({ name: \"profile\", params: { id: userId } });\n    },\n  },\n};\n</script>\n\n<style scoped>\n.card {\n  border: 1px solid #e6ecf0;\n  width: 100%;\n  min-height: 103px;\n  display: flex;\n  flex-direction: row;\n  padding: 15px 0 0 13px;\n  position: relative;\n  cursor: pointer;\n}\n\n.card:hover {\n  background: #f0f0f0;\n}\n\n.card .user-avatar,\n.card .avatar {\n  width: 50px;\n  height: 50px;\n  border-radius: 50%;\n  background: #c4c4c4;\n  margin-right: 10px;\n}\n.card .user-avatar {\n  margin-top: 13px;\n}\n\n.card .follower-btn {\n  width: 92px;\n  height: 30px;\n  border: 1px solid #ff6600;\n  background: #ff6600;\n  color: #fff;\n  border-radius: 100px;\n  position: absolute;\n  right: 15px;\n  top: 11px;\n  outline: none;\n}\n\n.card .follower-btn:hover {\n  background: #c44f00;\n}\n\n.card .follow-btn {\n  width: 62px;\n  height: 30px;\n  border: 1px solid #ff6600;\n  background: white;\n  color: #ff6600;\n  border-radius: 100px;\n  position: absolute;\n  right: 15px;\n  top: 11px;\n  outline: none;\n}\n\n.card .follow-btn:hover {\n  background: #ffeedd;\n}\n\n.card .detail .name {\n  font-weight: bold;\n}\n.card .detail .account {\n  color: #657786;\n  margin-top: -2px;\n}\n.card .detail .tweet {\n  margin-top: -2px;\n}\n\n.card .tweet {\n  margin: 6px 15px 14px 0;\n}\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./following.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./following.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./following.vue?vue&type=template&id=30cbf718&scoped=true&\"\nimport script from \"./following.vue?vue&type=script&lang=js&\"\nexport * from \"./following.vue?vue&type=script&lang=js&\"\nimport style0 from \"./following.vue?vue&type=style&index=0&id=30cbf718&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"30cbf718\",\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div class=\"container\">\n    <div class=\"row h-100\">\n      <div class=\"setting-pannel col-3 h-100\">\n        <Navbar />\n      </div>\n      <div class=\"main-content col h-100\">\n        <div class=\"header pl-3\">\n          <img\n            @click=\"$router.back()\"\n            src=\"https://upload.cc/i1/2020/12/24/oBeWkX.png\"\n            alt=\"\"\n          />\n\n          <div class=\"header-content\">\n            <p class=\"name\">{{ user.name }}</p>\n            <p class=\"twitter\">{{ user.tweetCount }}推文</p>\n          </div>\n        </div>\n\n        <div class=\"user-tweet\">\n          <div class=\"content-control d-flex\">\n            <div\n              class=\"tweets content\"\n              v-bind:class=\"{ active: showContent.follower }\"\n              v-on:click=\"showfollower()\"\n            >\n              跟隨者\n            </div>\n            <div\n              class=\"response content\"\n              v-bind:class=\"{ active: showContent.following }\"\n              v-on:click=\"showfollowing()\"\n            >\n              正在跟隨\n            </div>\n          </div>\n          <div class=\"content-render\">\n            <Follower v-if=\"showContent.follower\" />\n            <Following v-show=\"showContent.following\" />\n          </div>\n        </div>\n      </div>\n      <div class=\"main-follower col-4 h-100\">\n        <Followers :user-profile=\"user\" :follower-list=\"followerlist\" />\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport Navbar from \"./../components/Navbar\";\nimport Followers from \"./../components/followers\";\nimport Follower from \"./../components/follower\";\nimport Following from \"./../components/following\";\nimport userAPI from \"../apis/user\";\nimport followerAPI from \"./../apis/followers\";\nimport { fromNowFilter } from \"./../utils/mixins\";\nimport { mapState } from \"vuex\";\nimport { Toast } from \"./../utils/helpers\";\n\nexport default {\n  mixins: [fromNowFilter],\n  components: {\n    Navbar,\n    Followers,\n    Follower,\n    Following,\n  },\n  data() {\n    return {\n      isFollowed: true,\n      user: {},\n      showContent: {\n        follower: true,\n        following: false,\n      },\n      followerlist: [],\n    };\n  },\n  computed: {\n    ...mapState([\"currentUser\"]),\n  },\n  created() {\n    const { id: userId } = this.$route.params;\n    this.fetchUsers(userId);\n    this.fetchFollowerList();\n  },\n  methods: {\n    async fetchFollowerList() {\n      try {\n        const response = await followerAPI.TopUsers();\n        this.followerlist = response.data;\n      } catch (error) {\n        console.log(\"error\", error);\n        Toast.fire({\n          icon: \"warning\",\n          title: error,\n        });\n      }\n    },\n    async fetchUsers(userId) {\n      try {\n        const { data } = await userAPI.getUser(userId);\n        this.user = data;\n      } catch (error) {\n        console.log(\"error\", error);\n        Toast.fire({\n          icon: \"warning\",\n          title: error,\n        });\n      }\n    },\n\n    showfollower() {\n      this.showContent.follower = true;\n      this.showContent.following = false;\n    },\n    showfollowing() {\n      this.showContent.follower = false;\n      this.showContent.following = true;\n    },\n  },\n};\n</script>\n\n<style scoped>\n.container {\n  max-width: 1440px;\n  height: 1200px;\n  margin: 0 auto 0 auto;\n}\n.navbar {\n  margin: 0 25px auto auto;\n}\n.main-content {\n  width: 600px;\n  padding: 0;\n  border: 1px #e6ecf0 solid;\n}\n.main-content .header {\n  width: 100%;\n  height: 55px;\n  display: flex;\n  align-items: center;\n}\n\n.main-content .header img {\n  cursor: pointer;\n  width: 18px;\n  height: 18px;\n}\n\n.main-content .header img:hover {\n  opacity: 0.5;\n  transition: transform 0.2s ease-out;\n}\n\n.header-content {\n  margin-left: 2rem;\n}\n.header-content .name {\n  font-size: 1.2rem;\n  font-weight: bold;\n  margin-bottom: -0.3rem;\n}\n.header-content .twitter {\n  font-size: 0.5rem;\n  margin-bottom: -0.3rem;\n  color: #657786;\n}\n\n.user-tweet {\n  width: 100%;\n  height: 50px;\n  margin-top: 26px;\n}\n.content-control {\n  height: 50px;\n}\n\n.content-control .content {\n  width: 130px;\n  height: 50px;\n  line-height: 50px;\n  text-align: center;\n  font-weight: bold;\n  color: #657786;\n  font-size: 16px;\n  cursor: pointer;\n}\n\n.content-control .active {\n  color: #ff6600;\n  border-bottom: 2px solid #ff6600;\n}\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./follow.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./follow.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./follow.vue?vue&type=template&id=29fa8936&scoped=true&\"\nimport script from \"./follow.vue?vue&type=script&lang=js&\"\nexport * from \"./follow.vue?vue&type=script&lang=js&\"\nimport style0 from \"./follow.vue?vue&type=style&index=0&id=29fa8936&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"29fa8936\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}