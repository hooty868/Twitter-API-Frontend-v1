{"version":3,"sources":["webpack:///./src/views/AdminTweets.vue?5375","webpack:///./src/apis/admin.js","webpack:///./src/views/AdminTweets.vue?2a5d","webpack:///src/views/AdminTweets.vue","webpack:///./src/views/AdminTweets.vue?3126","webpack:///./src/views/AdminTweets.vue?3234","webpack:///./node_modules/core-js/modules/es.array.slice.js"],"names":["getToken","localStorage","getItem","users","get","apiHelper","headers","Authorization","tweets","delete","tweetId","render","_vm","this","_h","$createElement","_c","_self","attrs","staticClass","_m","_v","on","logout","_l","tweet","key","id","User","avatar","_s","name","account","createdAt","_f","description","$event","stopPropagation","preventDefault","deleteTweets","staticRenderFns","data","created","fetchData","methods","$store","commit","$router","push","filters","printString","string","slice","component","$","isObject","isArray","toAbsoluteIndex","toLength","toIndexedObject","createProperty","wellKnownSymbol","arrayMethodHasSpeciesSupport","arrayMethodUsesToLength","HAS_SPECIES_SUPPORT","USES_TO_LENGTH","ACCESSORS","0","1","SPECIES","nativeSlice","max","Math","target","proto","forced","start","end","Constructor","result","n","O","length","k","fin","undefined","constructor","Array","prototype","call"],"mappings":"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","file":"js/chunk-6106cf04.035051cc.js","sourcesContent":["export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AdminTweets.vue?vue&type=style&index=0&id=0918b424&scoped=true&lang=css&\"","import { apiHelper } from './../utils/helpers'\nconst getToken = () => localStorage.getItem('token')\n\nexport default {\n  users: {\n    get() {\n      return apiHelper.get('/admin/users', {\n        headers: { Authorization: `Bearer ${getToken()}` }\n      })\n    }\n  },\n  tweets: {\n    delete({ tweetId }) {\n      return apiHelper.delete(`/admin/tweets/${tweetId}`, {\n        headers: { Authorization: `Bearer ${getToken()}` }\n      })\n    },\n    get() {\n      return apiHelper.get('/admin/tweets', {\n        headers: { Authorization: `Bearer ${getToken()}` }\n      })\n    }\n\n  }\n}","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"main-app\"}},[_c('nav',{staticClass:\"d-flex flex-column justify-content-between align-items-center\"},[_c('div',{staticClass:\"top-items\"},[_vm._m(0),_vm._m(1),_c('router-link',{attrs:{\"to\":\"/admin/users\"}},[_c('div',{staticClass:\"pannel-icon-container d-flex\"},[_c('img',{staticClass:\"pannel-icon\",attrs:{\"src\":\"/image/icon_profile.png\",\"alt\":\"Profile\"}}),_c('h1',{staticClass:\"pannel-icon-text\"},[_vm._v(\"使用者列表\")])])])],1),_c('div',[_c('div',{staticClass:\"d-flex align-items-center\",on:{\"click\":_vm.logout}},[_c('img',{staticClass:\"pannel-icon m-3\",attrs:{\"src\":\"/image/logout@2x.png\",\"alt\":\"Index\"}}),_c('a',{staticClass:\"text-center text-dark\",attrs:{\"href\":\"#\"}},[_vm._v(\"登出\")])])])]),_c('main',{attrs:{\"id\":\"main-content\"}},[_vm._m(2),_c('div',{staticClass:\"card-wrapper\"},_vm._l((_vm.tweets),function(tweet){return _c('div',{key:tweet.id,staticClass:\"card\"},[_c('div',{staticClass:\"user-avatar\"},[_c('img',{staticClass:\"user-avatar\",attrs:{\"src\":tweet.User.avatar,\"alt\":\"\"}})]),_c('div',{staticClass:\"content\"},[_c('div',{staticClass:\"detail\"},[_c('div',{staticClass:\"name mr-1\"},[_vm._v(_vm._s(tweet.User.name))]),_c('div',{staticClass:\"account mr-1\"},[_vm._v(_vm._s(tweet.User.account))]),_c('div',{staticClass:\"creat-time\"},[_vm._v(_vm._s(tweet.createdAt))])]),_c('div',{staticClass:\"tweet\"},[_vm._v(\" \"+_vm._s(_vm._f(\"printString\")(tweet.description))+\" \")])]),_c('div',{staticClass:\"tweet-delete\",on:{\"click\":function($event){$event.stopPropagation();$event.preventDefault();return _vm.deleteTweets(tweet.id)}}},[_vm._v(\" x \")])])}),0)])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"logo-container\"},[_c('img',{staticClass:\"logo\",attrs:{\"src\":\"/image/Logo.png\",\"alt\":\"Logo\"}})])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"pannel-icon-container chosen d-flex\"},[_c('img',{staticClass:\"pannel-icon\",attrs:{\"src\":\"/image/icon_index_orange.png\",\"alt\":\"Index\"}}),_c('h1',{staticClass:\"pannel-icon-text chosen\"},[_vm._v(\"推文清單\")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"title\"},[_c('h4',[_vm._v(\"推文清單\")])])}]\n\nexport { render, staticRenderFns }","<template>\n  <div id=\"main-app\">\n    <nav class=\"d-flex flex-column justify-content-between align-items-center\">\n      <div class=\"top-items\">\n        <div class=\"logo-container\">\n          <img class=\"logo\" src=\"/image/Logo.png\" alt=\"Logo\" />\n        </div>\n        <div class=\"pannel-icon-container chosen d-flex\">\n          <img\n            class=\"pannel-icon\"\n            src=\"/image/icon_index_orange.png\"\n            alt=\"Index\"\n          />\n          <h1 class=\"pannel-icon-text chosen\">推文清單</h1>\n        </div>\n\n        <router-link to=\"/admin/users\">\n          <div class=\"pannel-icon-container d-flex\">\n            <img\n              class=\"pannel-icon\"\n              src=\"/image/icon_profile.png\"\n              alt=\"Profile\"\n            />\n            <h1 class=\"pannel-icon-text\">使用者列表</h1>\n          </div>\n        </router-link>\n      </div>\n      <div>\n        <div class=\"d-flex align-items-center\" @click=\"logout\">\n          <img class=\"pannel-icon m-3\" src=\"/image/logout@2x.png\" alt=\"Index\" />\n          <a href=\"#\" class=\"text-center text-dark\">登出</a>\n        </div>\n      </div>\n    </nav>\n    <main id=\"main-content\">\n      <div class=\"title\">\n        <h4>推文清單</h4>\n      </div>\n      <div class=\"card-wrapper\">\n        <div class=\"card\" v-for=\"tweet in tweets\" :key=\"tweet.id\">\n          <div class=\"user-avatar\">\n            <img class=\"user-avatar\" :src=\"tweet.User.avatar\" alt=\"\" />\n          </div>\n          <div class=\"content\">\n            <div class=\"detail\">\n              <div class=\"name mr-1\">{{ tweet.User.name }}</div>\n              <div class=\"account mr-1\">{{ tweet.User.account }}</div>\n              <div class=\"creat-time\">{{ tweet.createdAt }}</div>\n            </div>\n            <div class=\"tweet\">\n              {{ tweet.description | printString }}\n            </div>\n          </div>\n\n          <div\n            class=\"tweet-delete\"\n            @click.stop.prevent=\"deleteTweets(tweet.id)\"\n          >\n            x\n          </div>\n        </div>\n      </div>\n    </main>\n  </div>\n</template>\n\n<script>\nimport adminAPI from \"../apis/admin\";\nimport { Toast } from \"./../utils/helpers\";\n\nexport default {\n  data() {\n    return {\n      tweets: [],\n    };\n  },\n  created() {\n    this.fetchData();\n  },\n  methods: {\n    async fetchData() {\n      try {\n        const { data } = await adminAPI.tweets.get();\n        this.tweets = data;\n      } catch (error) {\n        Toast.fire({\n          icon: \"error\",\n          title: \"無法取得推文資料，請稍後再試\",\n        });\n      }\n    },\n    async deleteTweets(tweetId) {\n      try {\n        const { data } = await adminAPI.tweets.delete({ tweetId });\n        console.log(tweetId);\n\n        if (data.status !== \"success\") {\n          throw new Error(data.message);\n        }\n        this.tweets = this.tweets.filter((tweet) => tweet.id !== tweetId);\n      } catch (error) {\n        Toast.fire({\n          icon: \"error\",\n          title: \"無法將推文移除，請稍後再試\",\n        });\n        console.log(\"error\", error);\n      }\n    },\n    logout() {\n      this.$store.commit(\"revokeAuthentication\");\n      this.$router.push(\"/admin/signin\");\n    },\n  },\n  filters: {\n    //印出前五十個字\n    printString(string) {\n      return string.slice(0, 49);\n    },\n  },\n};\n</script>\n\n<style scoped>\n/* left side */\nnav {\n  width: 380px;\n  position: fixed;\n  top: 0;\n  bottom: 0;\n  padding: 16px 0;\n  z-index: 100;\n  border: 1px solid #e6ecf0;\n  background: #ffffff;\n}\n\n.pannel-container {\n  width: 100%;\n}\n.logo-container {\n  margin-top: 14px;\n}\n.logo {\n  height: 30px;\n  width: 30px;\n}\n.pannel-icon-container {\n  width: 100%;\n  height: 60px;\n}\n\n.pannel-icon {\n  width: 22.2px;\n  height: 20.25px;\n  margin: auto 0 auto 0;\n}\n.pannel-icon-text {\n  font-family: Noto Sans TC;\n  font-style: normal;\n  font-weight: bold;\n  font-size: 18px;\n  line-height: 60px;\n  margin: auto 0 auto 20px;\n  cursor: pointer;\n  color: black;\n}\n.pannel-icon-container .chosen {\n  color: #ff6600;\n}\n\n/* right side */\n\n#main-app {\n  height: 100%;\n}\n\n#main-content {\n  margin-left: 380px;\n}\n\n.title {\n  border: 1px solid #e6ecf0;\n  height: 55px;\n  width: 100%;\n  padding-left: 2rem;\n}\n.title h4 {\n  line-height: 55px;\n  color: black;\n  font-weight: bold;\n}\n\n.card {\n  border: 1px solid #e6ecf0;\n  width: 100%;\n  height: 124px;\n  display: flex;\n  flex-direction: row;\n  position: relative;\n  display: flex;\n  align-items: center;\n}\n\n.user-avatar {\n  width: 50px;\n  height: 50px;\n  border-radius: 50%;\n  margin-left: 1rem;\n}\n\n.content {\n  margin-left: 2rem;\n}\n\n.detail {\n  display: flex;\n}\n.detail .name {\n  font-weight: bold;\n  font-size: 16px;\n}\n\n.tweet {\n  width: 100%;\n}\n\n.tweet-delete {\n  position: absolute;\n  color: #657786;\n  font-size: 2rem;\n  right: 1rem;\n  top: 0.5rem;\n  cursor: pointer;\n}\n.tweet-delete:hover {\n  color: black;\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AdminTweets.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AdminTweets.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./AdminTweets.vue?vue&type=template&id=0918b424&scoped=true&\"\nimport script from \"./AdminTweets.vue?vue&type=script&lang=js&\"\nexport * from \"./AdminTweets.vue?vue&type=script&lang=js&\"\nimport style0 from \"./AdminTweets.vue?vue&type=style&index=0&id=0918b424&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"0918b424\",\n  null\n  \n)\n\nexport default component.exports","'use strict';\nvar $ = require('../internals/export');\nvar isObject = require('../internals/is-object');\nvar isArray = require('../internals/is-array');\nvar toAbsoluteIndex = require('../internals/to-absolute-index');\nvar toLength = require('../internals/to-length');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar createProperty = require('../internals/create-property');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\nvar arrayMethodHasSpeciesSupport = require('../internals/array-method-has-species-support');\nvar arrayMethodUsesToLength = require('../internals/array-method-uses-to-length');\n\nvar HAS_SPECIES_SUPPORT = arrayMethodHasSpeciesSupport('slice');\nvar USES_TO_LENGTH = arrayMethodUsesToLength('slice', { ACCESSORS: true, 0: 0, 1: 2 });\n\nvar SPECIES = wellKnownSymbol('species');\nvar nativeSlice = [].slice;\nvar max = Math.max;\n\n// `Array.prototype.slice` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.slice\n// fallback for not array-like ES3 strings and DOM objects\n$({ target: 'Array', proto: true, forced: !HAS_SPECIES_SUPPORT || !USES_TO_LENGTH }, {\n  slice: function slice(start, end) {\n    var O = toIndexedObject(this);\n    var length = toLength(O.length);\n    var k = toAbsoluteIndex(start, length);\n    var fin = toAbsoluteIndex(end === undefined ? length : end, length);\n    // inline `ArraySpeciesCreate` for usage native `Array#slice` where it's possible\n    var Constructor, result, n;\n    if (isArray(O)) {\n      Constructor = O.constructor;\n      // cross-realm fallback\n      if (typeof Constructor == 'function' && (Constructor === Array || isArray(Constructor.prototype))) {\n        Constructor = undefined;\n      } else if (isObject(Constructor)) {\n        Constructor = Constructor[SPECIES];\n        if (Constructor === null) Constructor = undefined;\n      }\n      if (Constructor === Array || Constructor === undefined) {\n        return nativeSlice.call(O, k, fin);\n      }\n    }\n    result = new (Constructor === undefined ? Array : Constructor)(max(fin - k, 0));\n    for (n = 0; k < fin; k++, n++) if (k in O) createProperty(result, n, O[k]);\n    result.length = n;\n    return result;\n  }\n});\n"],"sourceRoot":""}