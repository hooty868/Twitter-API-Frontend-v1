(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-52e8c464"],{2289:function(s,t,e){},df13:function(s,t,e){"use strict";e("2289")},ee79:function(s,t,e){"use strict";e.r(t);var a=function(){var s=this,t=s.$createElement,e=s._self._c||t;return e("div",{staticClass:"container"},[e("div",{staticClass:"row h-100"},[e("div",{staticClass:"setting-pannel col-3 h-100"},[e("Navbar")],1),e("div",{staticClass:"users-content col-3 h-100"},[s._m(0),e("div",{staticClass:"user-list"},[e("div",{staticClass:"card-wrapper"},[s._m(1),s._l(s.userOn,(function(t){return e("div",{key:t.id,staticClass:"card"},[s._m(2,!0),e("div",{staticClass:"detail"},[e("div",{staticClass:"name mr-1"},[s._v(s._s(t))]),e("div",{staticClass:"account mr-1"},[s._v("@Apple")])])])}))],2)])]),e("div",{staticClass:"chatroom-content col h-100"},[s._m(3),e("div",{staticClass:"chatroom"},[e("div",{staticClass:"content-render"},[e("div",{attrs:{id:"messages"}},s._l(s.messageSelf,(function(t){return e("div",{key:t.id,staticClass:"message-text"},[s._v(" "+s._s(t)+" ")])})),0),e("div",{attrs:{id:"messages-other"}},s._l(s.messageOther,(function(t){return e("div",{key:t.id,staticClass:"message-text"},[s._v(" "+s._s(t)+" ")])})),0),e("div",{staticClass:"greeting"},s._l(s.greeting,(function(t){return e("div",{key:t.id,attrs:{id:"greeting"}},[e("div",{staticClass:"greeting-text"},[s._v(s._s(t))])])})),0)]),e("div",{staticClass:"message-control"},[e("form",[e("input",{directives:[{name:"model",rawName:"v-model",value:s.user.message,expression:"user.message"}],attrs:{id:"m",autocomplete:"off"},domProps:{value:s.user.message},on:{input:function(t){t.target.composing||s.$set(s.user,"message",t.target.value)}}}),e("button",{on:{click:function(t){return t.preventDefault(),t.stopPropagation(),s.submit(t)}}},[s._v(" Send ")])])])])])])])},i=[function(){var s=this,t=s.$createElement,e=s._self._c||t;return e("div",{staticClass:"header pl-3"},[e("div",{staticClass:"header-content"},[e("p",{staticClass:"title"},[s._v("上線使用者(5)")])])])},function(){var s=this,t=s.$createElement,e=s._self._c||t;return e("div",{staticClass:"card"},[e("div",{staticClass:"user-avatar"},[e("img",{attrs:{alt:""}})]),e("div",{staticClass:"detail"},[e("div",{staticClass:"name mr-1"},[s._v("Apple")]),e("div",{staticClass:"account mr-1"},[s._v("@Apple")])])])},function(){var s=this,t=s.$createElement,e=s._self._c||t;return e("div",{staticClass:"user-avatar"},[e("img",{attrs:{alt:""}})])},function(){var s=this,t=s.$createElement,e=s._self._c||t;return e("div",{staticClass:"header pl-3"},[e("div",{staticClass:"header-content"},[e("p",{staticClass:"title"},[s._v("公開聊天室")])])])}],n=(e("b0c0"),e("5530")),r=e("d178"),c=e("2f62"),o=e("8055"),l=e.n(o),u={components:{Navbar:r["a"]},computed:Object(n["a"])({},Object(c["b"])(["currentUser","isAuthenticated"])),data:function(){return{greeting:[],messageSelf:[],messageOther:[],userOn:[],messagesHistory:[],socket:{},messages:[],user:{message:"",name:"",id:-1}}},created:function(){this.socket=l()("http://localhost:3000"),this.fetchUser()},mounted:function(){var s=this;this.socket.emit("user-join",this.currentUser),this.socket.on("user-joined",(function(t){console.log(t),s.userOn.push(t),s.greeting.push("".concat(t," 上線了"))})),this.socket.on("newMessage",(function(t){t.id===s.currentUser.id?s.messageSelf.push(t.message):s.messageOther.push(t.message)}))},methods:{fetchUser:function(){this.user.name=this.currentUser.name,this.user.id=this.currentUser.id},submit:function(){this.socket.emit("sendMessage",this.user),this.user.message=""}}},d=u,m=(e("df13"),e("2877")),v=Object(m["a"])(d,a,i,!1,null,null,null);t["default"]=v.exports}}]);
//# sourceMappingURL=chunk-52e8c464.fc101f9d.js.map