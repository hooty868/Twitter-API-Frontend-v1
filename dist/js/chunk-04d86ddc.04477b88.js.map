{"version":3,"sources":["webpack:///./src/views/Setting.vue?e5a9","webpack:///src/views/Setting.vue","webpack:///./src/views/Setting.vue?8b3f","webpack:///./src/views/Setting.vue?3979","webpack:///./src/views/Setting.vue?1965"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","status","_v","on","$event","stopPropagation","preventDefault","handleSubmit","UserId","directives","name","rawName","value","userProfile","expression","domProps","target","composing","$set","isProcessing","staticRenderFns","components","Spinner","Navbar","data","isLoading","account","email","password","passwordCheck","created","fetchUserProfile","id","methods","component"],"mappings":"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","file":"js/chunk-04d86ddc.04477b88.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"container d-flex\"},[_c('div',{staticClass:\"setting-pannel\"},[_c('Navbar',{attrs:{\"navbar-status\":_vm.status}})],1),(_vm.isLoading)?_c('Spinner'):_c('div',{staticClass:\"main-content\"},[_c('div',{staticClass:\"header\"},[_c('p',[_vm._v(\"帳戶設定\")])]),_c('form',{staticClass:\"form-group w-100\",on:{\"submit\":function($event){$event.stopPropagation();$event.preventDefault();return _vm.handleSubmit(_vm.UserId)}}},[_c('div',{staticClass:\"form-label-group\"},[_c('label',{attrs:{\"for\":\"account\"}},[_vm._v(\"帳號\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.userProfile.account),expression:\"userProfile.account\"}],staticClass:\"form-input form-control\",attrs:{\"id\":\"account\",\"name\":\"account\",\"type\":\"account\",\"placeholder\":\"\",\"autocomplete\":\"account\",\"required\":\"\",\"autofocus\":\"\"},domProps:{\"value\":(_vm.userProfile.account)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.userProfile, \"account\", $event.target.value)}}})]),_c('div',{staticClass:\"form-label-group\"},[_c('label',{attrs:{\"for\":\"name\"}},[_vm._v(\"名稱\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.userProfile.name),expression:\"userProfile.name\"}],staticClass:\"form-input form-control\",attrs:{\"id\":\"name\",\"name\":\"name\",\"type\":\"text\",\"placeholder\":\"\",\"autocomplete\":\"username\",\"required\":\"\",\"autofocus\":\"\"},domProps:{\"value\":(_vm.userProfile.name)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.userProfile, \"name\", $event.target.value)}}})]),_c('div',{staticClass:\"form-label-group\"},[_c('label',{attrs:{\"for\":\"email\"}},[_vm._v(\"Email\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.userProfile.email),expression:\"userProfile.email\"}],staticClass:\"form-input form-control\",attrs:{\"id\":\"email\",\"name\":\"email\",\"type\":\"email\",\"placeholder\":\"\",\"autocomplete\":\"email\",\"required\":\"\"},domProps:{\"value\":(_vm.userProfile.email)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.userProfile, \"email\", $event.target.value)}}})]),_c('div',{staticClass:\"form-label-group\"},[_c('label',{attrs:{\"for\":\"password\"}},[_vm._v(\"密碼\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.userProfile.password),expression:\"userProfile.password\"}],staticClass:\"form-input form-control\",attrs:{\"id\":\"password\",\"name\":\"password\",\"type\":\"password\",\"placeholder\":\"\",\"autocomplete\":\"new-password\",\"required\":\"\"},domProps:{\"value\":(_vm.userProfile.password)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.userProfile, \"password\", $event.target.value)}}})]),_c('div',{staticClass:\"form-label-group\"},[_c('label',{attrs:{\"for\":\"password-check\"}},[_vm._v(\"密碼確認\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.userProfile.checkPassword),expression:\"userProfile.checkPassword\"}],staticClass:\"form-input form-control\",attrs:{\"id\":\"password-check\",\"name\":\"passwordCheck\",\"type\":\"password\",\"placeholder\":\"\",\"autocomplete\":\"new-password\",\"required\":\"\"},domProps:{\"value\":(_vm.userProfile.checkPassword)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.userProfile, \"checkPassword\", $event.target.value)}}})]),_c('button',{staticClass:\"btn btn-lg btn-submit btn-block mb-3\",attrs:{\"type\":\"submit\",\"disabled\":_vm.isProcessing}},[_vm._v(\" Submit \")])])])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"container d-flex\">\n    <div class=\"setting-pannel\">\n      <Navbar :navbar-status=\"status\" />\n    </div>\n    <Spinner v-if=\"isLoading\" />\n    <div class=\"main-content\" v-else>\n      <div class=\"header\"><p>帳戶設定</p></div>\n      <form\n        class=\"form-group w-100\"\n        @submit.stop.prevent=\"handleSubmit(UserId)\"\n      >\n        <div class=\"form-label-group\">\n          <label for=\"account\">帳號</label>\n          <input\n            id=\"account\"\n            name=\"account\"\n            v-model=\"userProfile.account\"\n            type=\"account\"\n            class=\"form-input form-control\"\n            placeholder=\"\"\n            autocomplete=\"account\"\n            required\n            autofocus\n          />\n        </div>\n        <div class=\"form-label-group\">\n          <label for=\"name\">名稱</label>\n          <input\n            id=\"name\"\n            name=\"name\"\n            v-model=\"userProfile.name\"\n            type=\"text\"\n            class=\"form-input form-control\"\n            placeholder=\"\"\n            autocomplete=\"username\"\n            required\n            autofocus\n          />\n        </div>\n\n        <div class=\"form-label-group\">\n          <label for=\"email\">Email</label>\n          <input\n            id=\"email\"\n            name=\"email\"\n            v-model=\"userProfile.email\"\n            type=\"email\"\n            class=\"form-input form-control\"\n            placeholder=\"\"\n            autocomplete=\"email\"\n            required\n          />\n        </div>\n\n        <div class=\"form-label-group\">\n          <label for=\"password\">密碼</label>\n          <input\n            id=\"password\"\n            name=\"password\"\n            v-model=\"userProfile.password\"\n            type=\"password\"\n            class=\"form-input form-control\"\n            placeholder=\"\"\n            autocomplete=\"new-password\"\n            required\n          />\n        </div>\n\n        <div class=\"form-label-group\">\n          <label for=\"password-check\">密碼確認</label>\n          <input\n            id=\"password-check\"\n            name=\"passwordCheck\"\n            v-model=\"userProfile.checkPassword\"\n            type=\"password\"\n            class=\"form-input form-control\"\n            placeholder=\"\"\n            autocomplete=\"new-password\"\n            required\n          />\n        </div>\n\n        <button\n          class=\"btn btn-lg btn-submit btn-block mb-3\"\n          type=\"submit\"\n          :disabled=\"isProcessing\"\n        >\n          Submit\n        </button>\n      </form>\n    </div>\n  </div>\n</template>\n\n<script>\nimport Navbar from \"./../components/Navbar\";\nimport Spinner from \"./../components/Spinner\";\nimport userAPI from \"./../apis/users\";\nimport { Toast } from \"./../utils/helpers\";\n\nexport default {\n  components: {\n    Spinner,\n    Navbar,\n  },\n  data() {\n    return {\n      isLoading: true,\n      status: \"status3\",\n      userProfile: {\n        account: \"\",\n        name: \"\",\n        email: \"\",\n        password: \"\",\n        passwordCheck: \"\",\n      },\n      isProcessing: false,\n      UserId: \"\",\n    };\n  },\n  created() {\n    const { id } = this.$route.params;\n    this.fetchUserProfile(id);\n  },\n  methods: {\n    async fetchUserProfile(userId) {\n      try {\n        this.UserId = userId;\n        const { data } = await userAPI.UserProfile(userId);\n        const { account, name, email } = data;\n        this.userProfile = {\n          account: account,\n          name: name,\n          email: email,\n          password: \"\",\n          checkPassword: \"\",\n        };\n        this.isLoading = false;\n      } catch (error) {\n        this.isLoading = false;\n        this.isProcessing = false;\n        Toast.fire({\n          icon: \"error\",\n          title: \"無法更新使用者資訊，請稍後再試\",\n        });\n      }\n    },\n    async handleSubmit(userId) {\n      try {\n        this.isProcessing = true;\n        const response = await userAPI.UpdateUserSettingProfile(userId, {\n          account: this.userProfile.account,\n          name: this.userProfile.name,\n          email: this.userProfile.email,\n          password: this.userProfile.password,\n          checkPassword: this.userProfile.checkPassword,\n        });\n        console.log(response);\n        // if (data.status !== \"success\") {\n        //   throw new Error(data.message);\n        // }\n\n        this.$router.push({ name: \"main\" });\n      } catch (error) {\n        this.isProcessing = false;\n        Toast.fire({\n          icon: \"error\",\n          title: \"無法更新使用者資訊，請稍後再試\",\n        });\n      }\n    },\n  },\n};\n</script>\n\n<style scoped>\n.container {\n  margin: 0 auto 0 auto;\n}\n.setting-pannel {\n  width: 378px;\n  height: 100%;\n  border-left: 2px #e6ecf0 solid;\n}\n.main-content {\n  height: 100%;\n  flex-grow: 1;\n  border-left: 2px #e6ecf0 solid;\n  border-right: 2px #e6ecf0 solid;\n}\n.main-content .header {\n  width: 100%;\n  height: 55px;\n  border-bottom: 2px #e6ecf0 solid;\n}\n.main-content .header p {\n  font-family: Noto Sans TC;\n  font-style: normal;\n  font-weight: bold;\n  font-size: 19px;\n  line-height: 28px;\n  color: #1c1c1c;\n  margin-top: 13px;\n  margin-left: 23.7px;\n}\n.form-group {\n  margin: 30px auto auto 16px;\n}\n.btn-submit {\n  width: 122px;\n  margin: 30px 0px 0px auto;\n}\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Setting.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Setting.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Setting.vue?vue&type=template&id=07bb87b0&scoped=true&\"\nimport script from \"./Setting.vue?vue&type=script&lang=js&\"\nexport * from \"./Setting.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Setting.vue?vue&type=style&index=0&id=07bb87b0&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"07bb87b0\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Setting.vue?vue&type=style&index=0&id=07bb87b0&scoped=true&lang=css&\""],"sourceRoot":""}