(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4660fdb2"],{5867:function(s,t,e){},7515:function(s,t,e){"use strict";e("5867")},"9e7d":function(s,t,e){"use strict";e.r(t);var a=function(){var s=this,t=s.$createElement,e=s._self._c||t;return e("div",{staticClass:"container"},[e("div",{staticClass:"row h-100"},[e("div",{staticClass:"setting-pannel col-3 h-100"},[e("Navbar",{attrs:{"navbar-status":s.status}})],1),e("div",{staticClass:"main-group col-3 h-100"},[s._m(0),e("div",{staticClass:"group-usercards"},s._l(s.messagesHistory,(function(t){return e("div",{key:t.id,staticClass:"user-card d-flex"},[e("img",{attrs:{src:t.User.avatar,alt:"avater"}}),e("div",{staticClass:"user-content d-flex"},[e("p",{staticClass:"user-name"},[s._v(s._s(t.User.name))]),e("p",{staticClass:"user-account"},[s._v("@"+s._s(t.User.account))])])])})),0)]),e("div",{staticClass:"main-conversation col h-100"},[s._m(1),e("div",{staticClass:"main-content"},[e("div",{staticClass:"user-online"},[e("p",[s._v(s._s(s.online))])]),s._l(s.messageOther,(function(t){return e("div",{key:t.id,staticClass:"conversation-content js-start"},[e("img",{attrs:{src:t.User.avatar,alt:"avatar"}}),e("div",{staticClass:"content-description"},[e("p",{staticClass:"description-text bg-grey"},[s._v(" "+s._s(t.content)+" ")]),e("p",{staticClass:"description-time"},[s._v(s._s(t.time))])])])})),s._l(s.messageSelf,(function(t){return e("div",{key:t.id,staticClass:"conversation-content js-end"},[e("img",{attrs:{src:t.User.avatar,alt:"avatar"}}),e("div",{staticClass:"content-description"},[e("p",{staticClass:"description-text bg-orange"},[s._v(" "+s._s(t.content)+" ")]),e("p",{staticClass:"description-time"},[s._v(s._s(t.time))])])])}))],2),e("div",{staticClass:"footer"},[e("input",{directives:[{name:"model",rawName:"v-model",value:s.user.message,expression:"user.message"}],attrs:{id:"message",type:"text",name:"message",autocomplete:"message",placeholder:"輸入訊息...",required:""},domProps:{value:s.user.message},on:{input:function(t){t.target.composing||s.$set(s.user,"message",t.target.value)}}}),e("img",{attrs:{src:"https://upload.cc/i1/2020/12/26/G6Kzb9.png",alt:"output"},on:{click:s.submit}})])])])])},n=[function(){var s=this,t=s.$createElement,e=s._self._c||t;return e("div",{staticClass:"header"},[e("p",[s._v("上線使用者(5)")])])},function(){var s=this,t=s.$createElement,e=s._self._c||t;return e("div",{staticClass:"header"},[e("p",[s._v("公開聊天室")])])}],i=(e("b0c0"),e("5530")),r=e("d178"),c=e("2f62"),o=e("8055"),u=e.n(o),l=u()("https://socket-go.herokuapp.com/",{query:{token:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6MTEsImlhdCI6MTYwOTA0ODI1MH0.GnOzkLD9mHNuFJKTSq88w_MCkydLxrSxckFi59z2t4E"}}),m={components:{Navbar:r["a"]},data:function(){return{online:"",offline:[],messageSelf:[],messageOther:[],userOn:[],messagesHistory:[],socket:{},user:{message:"",name:"",id:-1},status:"status1",account:"",token:""}},created:function(){this.socket=l,this.socket.emit("joinRoom")},mounted:function(){var s=this;this.socket.on("loadMessages",(function(s){console.log(s)})),this.socket.on("userJoin",(function(t){console.log(t),s.online=t})),this.socket.on("serverMessage",(function(t){console.log(t),t.User.name===s.currentUser.name?s.messageSelf.push(t):s.messageOther.push(t)}))},computed:Object(i["a"])({},Object(c["b"])(["currentUser","isAuthenticated"])),methods:{submit:function(){this.socket.emit("userMessage",this.user.message),this.user.message=""},fetchUser:function(){this.user.name=this.currentUser.name,this.account=this.currentUser.name,this.user.id=this.currentUser.id}}},d=m,v=(e("7515"),e("2877")),p=Object(v["a"])(d,a,n,!1,null,"95b880fe",null);t["default"]=p.exports}}]);
//# sourceMappingURL=chunk-4660fdb2.52b94ea9.js.map